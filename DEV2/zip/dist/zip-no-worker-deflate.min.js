((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).zip={})})(this,(function(e){"use strict";const t=-2;function r(e){return n(e.map((([e,t])=>Array(e).fill(t,0,e))))}function n(e){return e.reduce(((e,t)=>e.concat(Array.isArray(t)?n(t):t)),[])}const i=[0,1,2,3].concat(...r([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function a(){const e=this;function t(e,t){let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}e.build_tree=r=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,a=e.stat_desc.elems;let s,o,l,c=-1;for(r.heap_len=0,r.heap_max=573,s=0;a>s;s++)0!==n[2*s]?(r.heap[++r.heap_len]=c=s,r.depth[s]=0):n[2*s+1]=0;for(;2>r.heap_len;)l=r.heap[++r.heap_len]=2>c?++c:0,n[2*l]=1,r.depth[l]=0,r.opt_len--,i&&(r.static_len-=i[2*l+1]);for(e.max_code=c,s=Math.floor(r.heap_len/2);s>=1;s--)r.pqdownheap(n,s);l=a;do{s=r.heap[1],r.heap[1]=r.heap[r.heap_len--],r.pqdownheap(n,1),o=r.heap[1],r.heap[--r.heap_max]=s,r.heap[--r.heap_max]=o,n[2*l]=n[2*s]+n[2*o],r.depth[l]=Math.max(r.depth[s],r.depth[o])+1,n[2*s+1]=n[2*o+1]=l,r.heap[1]=l++,r.pqdownheap(n,1)}while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],(t=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,s=e.stat_desc.max_length;let o,l,c,d,u,h,f=0;for(d=0;15>=d;d++)t.bl_count[d]=0;for(r[2*t.heap[t.heap_max]+1]=0,o=t.heap_max+1;573>o;o++)l=t.heap[o],d=r[2*r[2*l+1]+1]+1,d>s&&(d=s,f++),r[2*l+1]=d,l>e.max_code||(t.bl_count[d]++,u=0,a>l||(u=i[l-a]),h=r[2*l],t.opt_len+=h*(d+u),n&&(t.static_len+=h*(n[2*l+1]+u)));if(0!==f){do{for(d=s-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[s]--,f-=2}while(f>0);for(d=s;0!==d;d--)for(l=t.bl_count[d];0!==l;)c=t.heap[--o],c>e.max_code||(r[2*c+1]!=d&&(t.opt_len+=(d-r[2*c+1])*r[2*c],r[2*c+1]=d),l--)}})(r),((e,r,n)=>{const i=[];let a,s,o,l=0;for(a=1;15>=a;a++)i[a]=l=l+n[a-1]<<1;for(s=0;r>=s;s++)o=e[2*s+1],0!==o&&(e[2*s]=t(i[o]++,o))})(n,e.max_code,r.bl_count)}}function s(e,t,r,n,i){const a=this;a.static_tree=e,a.extra_bits=t,a.extra_base=r,a.elems=n,a.max_length=i}function o(e,t,r,n,i){const a=this;a.good_length=e,a.max_lazy=t,a.nice_length=r,a.max_chain=n,a.func=i}a._length_code=[0,1,2,3,4,5,6,7].concat(...r([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),a.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],a.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],a.d_code=e=>256>e?i[e]:i[256+(e>>>7)],a.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],a.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],s.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],s.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],s.static_l_desc=new s(s.static_ltree,a.extra_lbits,257,286,15),s.static_d_desc=new s(s.static_dtree,a.extra_dbits,0,30,15),s.static_bl_desc=new s(null,a.extra_blbits,0,19,7);const l=[new o(0,0,0,0,0),new o(4,4,8,4,1),new o(4,5,16,8,1),new o(4,6,32,32,1),new o(4,4,16,16,2),new o(8,16,32,32,2),new o(8,16,128,128,2),new o(8,32,128,256,2),new o(32,128,258,1024,2),new o(32,258,258,4096,2)],c=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],d=113,u=666,h=262;function f(e,t,r,n){const i=e[2*t],a=e[2*r];return a>i||i==a&&n[t]<=n[r]}function p(){const e=this;let r,n,i,o,p,g,w,y,_,m,b,x,A,k,U,v,E,R,z,S,T,D,F,B,M,W,C,I,H,O,P,j,L;const N=new a,V=new a,q=new a;let K,Z,G,X,Y,J;function Q(){let t;for(t=0;286>t;t++)P[2*t]=0;for(t=0;30>t;t++)j[2*t]=0;for(t=0;19>t;t++)L[2*t]=0;P[512]=1,e.opt_len=e.static_len=0,Z=G=0}function $(e,t){let r,n=-1,i=e[1],a=0,s=7,o=4;0===i&&(s=138,o=3),e[2*(t+1)+1]=65535;for(let l=0;t>=l;l++)r=i,i=e[2*(l+1)+1],++a<s&&r==i||(o>a?L[2*r]+=a:0!==r?(r!=n&&L[2*r]++,L[32]++):a>10?L[36]++:L[34]++,a=0,n=r,0===i?(s=138,o=3):r==i?(s=6,o=3):(s=7,o=4))}function ee(t){e.pending_buf[e.pending++]=t}function te(e){ee(255&e),ee(e>>>8&255)}function re(e,t){let r;const n=t;J>16-n?(r=e,Y|=r<<J&65535,te(Y),Y=r>>>16-J,J+=n-16):(Y|=e<<J&65535,J+=n)}function ne(e,t){const r=2*e;re(65535&t[r],65535&t[r+1])}function ie(e,t){let r,n,i=-1,a=e[1],s=0,o=7,l=4;for(0===a&&(o=138,l=3),r=0;t>=r;r++)if(n=a,a=e[2*(r+1)+1],++s>=o||n!=a){if(l>s)do{ne(n,L)}while(0!=--s);else 0!==n?(n!=i&&(ne(n,L),s--),ne(16,L),re(s-3,2)):s>10?(ne(18,L),re(s-11,7)):(ne(17,L),re(s-3,3));s=0,i=n,0===a?(o=138,l=3):n==a?(o=6,l=3):(o=7,l=4)}}function ae(){16==J?(te(Y),Y=0,J=0):8>J||(ee(255&Y),Y>>>=8,J-=8)}function se(t,r){let n,i,s;if(e.dist_buf[Z]=t,e.lc_buf[Z]=255&r,Z++,0===t?P[2*r]++:(G++,t--,P[2*(a._length_code[r]+256+1)]++,j[2*a.d_code(t)]++),0==(8191&Z)&&C>2){for(n=8*Z,i=T-E,s=0;30>s;s++)n+=j[2*s]*(5+a.extra_dbits[s]);if(n>>>=3,Math.floor(Z/2)>G&&Math.floor(i/2)>n)return!0}return Z==K-1}function oe(t,r){let n,i,s,o,l=0;if(0!==Z)do{n=e.dist_buf[l],i=e.lc_buf[l],l++,0===n?ne(i,t):(s=a._length_code[i],ne(s+256+1,t),o=a.extra_lbits[s],0!==o&&(i-=a.base_length[s],re(i,o)),n--,s=a.d_code(n),ne(s,r),o=a.extra_dbits[s],0!==o&&(n-=a.base_dist[s],re(n,o)))}while(Z>l);ne(256,t),X=t[513]}function le(){J>8?te(Y):J>0&&ee(255&Y),Y=0,J=0}function ce(t,r,n){re(0+(n?1:0),3),((t,r)=>{le(),X=8,te(r),te(~r),e.pending_buf.set(y.subarray(t,t+r),e.pending),e.pending+=r})(t,r)}function de(t){((t,r,n)=>{let i,o,l=0;C>0?(N.build_tree(e),V.build_tree(e),l=(()=>{let t;for($(P,N.max_code),$(j,V.max_code),q.build_tree(e),t=18;t>=3&&0===L[2*a.bl_order[t]+1];t--);return e.opt_len+=14+3*(t+1),t})(),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o>i||(i=o)):i=o=r+5,r+4>i||-1==t?o==i?(re(2+(n?1:0),3),oe(s.static_ltree,s.static_dtree)):(re(4+(n?1:0),3),((e,t,r)=>{let n;for(re(e-257,5),re(t-1,5),re(r-4,4),n=0;r>n;n++)re(L[2*a.bl_order[n]+1],3);ie(P,e-1),ie(j,t-1)})(N.max_code+1,V.max_code+1,l+1),oe(P,j)):ce(t,r,n),Q(),n&&le()})(0>E?-1:E,T-E,t),E=T,r.flush_pending()}function ue(){let e,t,n,i;do{if(i=_-F-T,0===i&&0===T&&0===F)i=p;else if(-1==i)i--;else if(T>=p+p-h){y.set(y.subarray(p,p+p),0),D-=p,T-=p,E-=p,e=A,n=e;do{t=65535&b[--n],b[n]=p>t?0:t-p}while(0!=--e);e=p,n=e;do{t=65535&m[--n],m[n]=p>t?0:t-p}while(0!=--e);i+=p}if(0===r.avail_in)return;e=r.read_buf(y,T+F,i),F+=e,3>F||(x=255&y[T],x=(x<<v^255&y[T+1])&U)}while(h>F&&0!==r.avail_in)}function he(e){let t,r,n=M,i=T,a=B;const s=T>p-h?T-(p-h):0;let o=O;const l=w,c=T+258;let d=y[i+a-1],u=y[i+a];H>B||(n>>=2),o>F&&(o=F);do{if(t=e,y[t+a]==u&&y[t+a-1]==d&&y[t]==y[i]&&y[++t]==y[i+1]){i+=2,t++;do{}while(y[++i]==y[++t]&&y[++i]==y[++t]&&y[++i]==y[++t]&&y[++i]==y[++t]&&y[++i]==y[++t]&&y[++i]==y[++t]&&y[++i]==y[++t]&&y[++i]==y[++t]&&c>i);if(r=258-(c-i),i=c-258,r>a){if(D=e,a=r,r>=o)break;d=y[i+a-1],u=y[i+a]}}}while((e=65535&m[e&l])>s&&0!=--n);return a>F?F:a}e.depth=[],e.bl_count=[],e.heap=[],P=[],j=[],L=[],e.pqdownheap=(t,r)=>{const n=e.heap,i=n[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&f(t,n[a+1],n[a],e.depth)&&a++,!f(t,i,n[a],e.depth));)n[r]=n[a],r=a,a<<=1;n[r]=i},e.deflateInit=(r,a,c,u,h,f)=>(u||(u=8),h||(h=8),f||(f=0),r.msg=null,-1==a&&(a=6),1>h||h>9||8!=u||9>c||c>15||0>a||a>9||0>f||f>2?t:(r.dstate=e,g=c,p=1<<g,w=p-1,k=h+7,A=1<<k,U=A-1,v=Math.floor((k+3-1)/3),y=new Uint8Array(2*p),m=[],b=[],K=1<<h+6,e.pending_buf=new Uint8Array(4*K),i=4*K,e.dist_buf=new Uint16Array(K),e.lc_buf=new Uint8Array(K),C=a,I=f,(t=>(t.total_in=t.total_out=0,t.msg=null,e.pending=0,e.pending_out=0,n=d,o=0,N.dyn_tree=P,N.stat_desc=s.static_l_desc,V.dyn_tree=j,V.stat_desc=s.static_d_desc,q.dyn_tree=L,q.stat_desc=s.static_bl_desc,Y=0,J=0,X=8,Q(),(()=>{_=2*p,b[A-1]=0;for(let e=0;A-1>e;e++)b[e]=0;W=l[C].max_lazy,H=l[C].good_length,O=l[C].nice_length,M=l[C].max_chain,T=0,E=0,F=0,R=B=2,S=0,x=0})(),0))(r))),e.deflateEnd=()=>42!=n&&n!=d&&n!=u?t:(e.lc_buf=null,e.dist_buf=null,e.pending_buf=null,b=null,m=null,y=null,e.dstate=null,n==d?-3:0),e.deflateParams=(e,r,n)=>{let i=0;return-1==r&&(r=6),0>r||r>9||0>n||n>2?t:(l[C].func!=l[r].func&&0!==e.total_in&&(i=e.deflate(1)),C!=r&&(C=r,W=l[C].max_lazy,H=l[C].good_length,O=l[C].nice_length,M=l[C].max_chain),I=n,i)},e.deflateSetDictionary=(e,r,i)=>{let a,s=i,o=0;if(!r||42!=n)return t;if(3>s)return 0;for(s>p-h&&(s=p-h,o=i-s),y.set(r.subarray(o,o+s),0),T=s,E=s,x=255&y[0],x=(x<<v^255&y[1])&U,a=0;s-3>=a;a++)x=(x<<v^255&y[a+2])&U,m[a&w]=b[x],b[x]=a;return 0},e.deflate=(a,f)=>{let _,k,M,H,O;if(f>4||0>f)return t;if(!a.next_out||!a.next_in&&0!==a.avail_in||n==u&&4!=f)return a.msg=c[4],t;if(0===a.avail_out)return a.msg=c[7],-5;var P;if(r=a,H=o,o=f,42==n&&(k=8+(g-8<<4)<<8,M=(C-1&255)>>1,M>3&&(M=3),k|=M<<6,0!==T&&(k|=32),k+=31-k%31,n=d,ee((P=k)>>8&255),ee(255&P)),0!==e.pending){if(r.flush_pending(),0===r.avail_out)return o=-1,0}else if(0===r.avail_in&&H>=f&&4!=f)return r.msg=c[7],-5;if(n==u&&0!==r.avail_in)return a.msg=c[7],-5;if(0!==r.avail_in||0!==F||0!=f&&n!=u){switch(O=-1,l[C].func){case 0:O=(e=>{let t,n=65535;for(n>i-5&&(n=i-5);;){if(1>=F){if(ue(),0===F&&0==e)return 0;if(0===F)break}if(T+=F,F=0,t=E+n,(0===T||T>=t)&&(F=T-t,T=t,de(!1),0===r.avail_out))return 0;if(T-E>=p-h&&(de(!1),0===r.avail_out))return 0}return de(4==e),0===r.avail_out?4==e?2:0:4==e?3:1})(f);break;case 1:O=(e=>{let t,n=0;for(;;){if(h>F){if(ue(),h>F&&0==e)return 0;if(0===F)break}if(3>F||(x=(x<<v^255&y[T+2])&U,n=65535&b[x],m[T&w]=b[x],b[x]=T),0===n||(T-n&65535)>p-h||2!=I&&(R=he(n)),3>R)t=se(0,255&y[T]),F--,T++;else if(t=se(T-D,R-3),F-=R,R>W||3>F)T+=R,R=0,x=255&y[T],x=(x<<v^255&y[T+1])&U;else{R--;do{T++,x=(x<<v^255&y[T+2])&U,n=65535&b[x],m[T&w]=b[x],b[x]=T}while(0!=--R);T++}if(t&&(de(!1),0===r.avail_out))return 0}return de(4==e),0===r.avail_out?4==e?2:0:4==e?3:1})(f);break;case 2:O=(e=>{let t,n,i=0;for(;;){if(h>F){if(ue(),h>F&&0==e)return 0;if(0===F)break}if(3>F||(x=(x<<v^255&y[T+2])&U,i=65535&b[x],m[T&w]=b[x],b[x]=T),B=R,z=D,R=2,0!==i&&W>B&&p-h>=(T-i&65535)&&(2!=I&&(R=he(i)),5>=R&&(1==I||3==R&&T-D>4096)&&(R=2)),3>B||R>B)if(0!==S){if(t=se(0,255&y[T-1]),t&&de(!1),T++,F--,0===r.avail_out)return 0}else S=1,T++,F--;else{n=T+F-3,t=se(T-1-z,B-3),F-=B-1,B-=2;do{++T>n||(x=(x<<v^255&y[T+2])&U,i=65535&b[x],m[T&w]=b[x],b[x]=T)}while(0!=--B);if(S=0,R=2,T++,t&&(de(!1),0===r.avail_out))return 0}}return 0!==S&&(t=se(0,255&y[T-1]),S=0),de(4==e),0===r.avail_out?4==e?2:0:4==e?3:1})(f)}if(2!=O&&3!=O||(n=u),0==O||2==O)return 0===r.avail_out&&(o=-1),0;if(1==O){if(1==f)re(2,3),ne(256,s.static_ltree),ae(),9>1+X+10-J&&(re(2,3),ne(256,s.static_ltree),ae()),X=7;else if(ce(0,0,!1),3==f)for(_=0;A>_;_++)b[_]=0;if(r.flush_pending(),0===r.avail_out)return o=-1,0}}return 4!=f?0:1}}function g(){const e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}g.prototype={deflateInit:function(e,t){const r=this;return r.dstate=new p,t||(t=15),r.dstate.deflateInit(r,e,t)},deflate:function(e){const r=this;return r.dstate?r.dstate.deflate(r,e):t},deflateEnd:function(){const e=this;if(!e.dstate)return t;const r=e.dstate.deflateEnd();return e.dstate=null,r},deflateParams:function(e,r){const n=this;return n.dstate?n.dstate.deflateParams(n,e,r):t},deflateSetDictionary:function(e,r){const n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,r):t},read_buf:function(e,t,r){const n=this;let i=n.avail_in;return i>r&&(i=r),0===i?0:(n.avail_in-=i,e.set(n.next_in.subarray(n.next_in_index,n.next_in_index+i),t),n.next_in_index+=i,n.total_in+=i,i)},flush_pending:function(){const e=this;let t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};const w={chunkSize:524288,maxWorkers:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||2,terminateWorkerTimeout:5e3,useWebWorkers:!0,workerScripts:void 0},y=Object.assign({},w);function _(e){if(void 0!==e.baseURL&&(y.baseURL=e.baseURL),void 0!==e.chunkSize&&(y.chunkSize=e.chunkSize),void 0!==e.maxWorkers&&(y.maxWorkers=e.maxWorkers),void 0!==e.terminateWorkerTimeout&&(y.terminateWorkerTimeout=e.terminateWorkerTimeout),void 0!==e.useWebWorkers&&(y.useWebWorkers=e.useWebWorkers),void 0!==e.Deflate&&(y.Deflate=e.Deflate),void 0!==e.Inflate&&(y.Inflate=e.Inflate),void 0!==e.workerScripts){if(e.workerScripts.deflate){if(!Array.isArray(e.workerScripts.deflate))throw Error("workerScripts.deflate must be an array");y.workerScripts||(y.workerScripts={}),y.workerScripts.deflate=e.workerScripts.deflate}if(e.workerScripts.inflate){if(!Array.isArray(e.workerScripts.inflate))throw Error("workerScripts.inflate must be an array");y.workerScripts||(y.workerScripts={}),y.workerScripts.inflate=e.workerScripts.inflate}}}const m=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;m[e]=t}class b{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let r=0,n=0|e.length;n>r;r++)t=t>>>8^m[255&(t^e[r])];this.crc=t}get(){return~this.crc}}function x(e){if("undefined"==typeof TextEncoder){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return t}return(new TextEncoder).encode(e)}const A={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const r=e[e.length-1],n=A.getPartial(r);return 32===n?e.concat(t):A._shiftRight(t,n,0|r,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const r=e[t-1];return 32*(t-1)+A.getPartial(r)},clamp(e,t){if(32*e.length<t)return e;const r=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=A.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:(e,t,r)=>32===e?t:(r?0|t:t<<32-e)+1099511627776*e,getPartial:e=>Math.round(e/1099511627776)||32,_shiftRight(e,t,r,n){for(void 0===n&&(n=[]);t>=32;t-=32)n.push(r),r=0;if(0===t)return n.concat(e);for(let i=0;i<e.length;i++)n.push(r|e[i]>>>t),r=e[i]<<32-t;const i=e.length?e[e.length-1]:0,a=A.getPartial(i);return n.push(A.partial(t+a&31,t+a>32?r:n.pop(),1)),n}},k={bytes:{fromBits(e){const t=A.bitLength(e)/8,r=new Uint8Array(t);let n;for(let i=0;t>i;i++)0==(3&i)&&(n=e[i/4]),r[i]=n>>>24,n<<=8;return r},toBits(e){const t=[];let r,n=0;for(r=0;r<e.length;r++)n=n<<8|e[r],3==(3&r)&&(t.push(n),n=0);return 3&r&&t.push(A.partial(8*(3&r),n)),t}}},U={sha1:function(e){e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()}};U.sha1.prototype={blockSize:512,reset:function(){const e=this;return e._h=this._init.slice(0),e._buffer=[],e._length=0,e},update:function(e){const t=this;"string"==typeof e&&(e=k.utf8String.toBits(e));const r=t._buffer=A.concat(t._buffer,e),n=t._length,i=t._length=n+A.bitLength(e);if(i>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");const a=new Uint32Array(r);let s=0;for(let e=t.blockSize+n-(t.blockSize+n&t.blockSize-1);i>=e;e+=t.blockSize)t._block(a.subarray(16*s,16*(s+1))),s+=1;return r.splice(0,16*s),t},finalize:function(){const e=this;let t=e._buffer;const r=e._h;t=A.concat(t,[A.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),r},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:(e,t,r,n)=>e>19?e>39?e>59?e>79?void 0:t^r^n:t&r|t&n|r&n:t^r^n:t&r|~t&n,_S:(e,t)=>t<<e|t>>>32-e,_block:function(e){const t=this,r=t._h,n=Array(80);for(let t=0;16>t;t++)n[t]=e[t];let i=r[0],a=r[1],s=r[2],o=r[3],l=r[4];for(let e=0;79>=e;e++){16>e||(n[e]=t._S(1,n[e-3]^n[e-8]^n[e-14]^n[e-16]));const r=t._S(5,i)+t._f(e,a,s,o)+l+n[e]+t._key[Math.floor(e/20)]|0;l=o,o=s,s=t._S(30,a),a=i,i=r}r[0]=r[0]+i|0,r[1]=r[1]+a|0,r[2]=r[2]+s|0,r[3]=r[3]+o|0,r[4]=r[4]+l|0}};const v="Invalid pasword",E=16,R={name:"PBKDF2"},z=Object.assign({hash:{name:"HMAC"}},R),S=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},R),T=["deriveBits"],D=[8,12,16],F=[16,24,32],B=10,M=[0,0,0,0],W=k.bytes,C=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const r=t._tables[0][4],n=t._tables[1],i=e.length;let a,s,o,l=1;if(4!==i&&6!==i&&8!==i)throw Error("invalid aes key size");for(t._key=[s=e.slice(0),o=[]],a=i;4*i+28>a;a++){let e=s[a-1];(a%i==0||8===i&&a%i==4)&&(e=r[e>>>24]<<24^r[e>>16&255]<<16^r[e>>8&255]<<8^r[255&e],a%i==0&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7))),s[a]=s[a-i]^e}for(let e=0;a;e++,a--){const t=s[3&e?a:a-4];o[e]=4>=a||4>e?t:n[0][r[t>>>24]]^n[1][r[t>>16&255]]^n[2][r[t>>8&255]]^n[3][r[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],r=e[4],n=t[4],i=[],a=[];let s,o,l,c;for(let e=0;256>e;e++)a[(i[e]=e<<1^283*(e>>7))^e]=e;for(let d=s=0;!r[d];d^=o||1,s=a[s]||1){let a=s^s<<1^s<<2^s<<3^s<<4;a=a>>8^255&a^99,r[d]=a,n[a]=d,c=i[l=i[o=i[d]]];let u=16843009*c^65537*l^257*o^16843008*d,h=257*i[a]^16843008*a;for(let r=0;4>r;r++)e[r][d]=h=h<<24^h>>>8,t[r][a]=u=u<<24^u>>>8}for(let r=0;5>r;r++)e[r]=e[r].slice(0),t[r]=t[r].slice(0)}_crypt(e,t){if(4!==e.length)throw Error("invalid aes block size");const r=this._key[t],n=r.length/4-2,i=[0,0,0,0],a=this._tables[t],s=a[0],o=a[1],l=a[2],c=a[3],d=a[4];let u,h,f,p=e[0]^r[0],g=e[t?3:1]^r[1],w=e[2]^r[2],y=e[t?1:3]^r[3],_=4;for(let e=0;n>e;e++)u=s[p>>>24]^o[g>>16&255]^l[w>>8&255]^c[255&y]^r[_],h=s[g>>>24]^o[w>>16&255]^l[y>>8&255]^c[255&p]^r[_+1],f=s[w>>>24]^o[y>>16&255]^l[p>>8&255]^c[255&g]^r[_+2],y=s[y>>>24]^o[p>>16&255]^l[g>>8&255]^c[255&w]^r[_+3],_+=4,p=u,g=h,w=f;for(let e=0;4>e;e++)i[t?3&-e:e]=d[p>>>24]<<24^d[g>>16&255]<<16^d[w>>8&255]<<8^d[255&y]^r[_++],u=p,p=g,g=w,w=y,y=u;return i}},I=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255==(e>>24&255)){let t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,r){let n;if(!(n=t.length))return[];const i=A.bitLength(t);for(let i=0;n>i;i+=4){this.incCounter(r);const n=e.encrypt(r);t[i]^=n[0],t[i+1]^=n[1],t[i+2]^=n[2],t[i+3]^=n[3]}return A.clamp(t,i)}},H=class{constructor(e){const t=this,r=t._hash=U.sha1,n=[[],[]],i=r.prototype.blockSize/32;t._baseHash=[new r,new r],e.length>i&&(e=r.hash(e));for(let t=0;i>t;t++)n[0][t]=909522486^e[t],n[1][t]=1549556828^e[t];t._baseHash[0].update(n[0]),t._baseHash[1].update(n[1]),t._resultHash=new r(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),r=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),r}};class O{constructor(e,t,r){Object.assign(this,{password:e,signed:t,strength:r-1,pendingInput:new Uint8Array(0)})}async append(e){const t=this;if(t.password){const r=V(e,0,D[t.strength]+2);await(async(e,t,r)=>{await L(e,r,V(t,0,D[e.strength]));const n=V(t,D[e.strength]),i=e.keys.passwordVerification;if(i[0]!=n[0]||i[1]!=n[1])throw Error(v)})(t,r,t.password),t.password=null,t.aesCtrGladman=new I(new C(t.keys.key),Array.from(M)),t.hmac=new H(t.keys.authentication),e=V(e,D[t.strength]+2)}return j(t,e,new Uint8Array(e.length-B-(e.length-B)%E),0,B,!0)}flush(){const e=this,t=e.pendingInput,r=V(t,0,t.length-B),n=V(t,t.length-B);let i=new Uint8Array(0);if(r.length){const t=W.toBits(r);e.hmac.update(t);const n=e.aesCtrGladman.update(t);i=W.fromBits(n)}let a=!0;if(e.signed){const t=V(W.fromBits(e.hmac.digest()),0,B);for(let e=0;B>e;e++)t[e]!=n[e]&&(a=!1)}return{valid:a,data:i}}}class P{constructor(e,t){Object.assign(this,{password:e,strength:t-1,pendingInput:new Uint8Array(0)})}async append(e){const t=this;let r=new Uint8Array(0);t.password&&(r=await(async(e,t)=>{const r=crypto.getRandomValues(new Uint8Array(D[e.strength]));return await L(e,t,r),N(r,e.keys.passwordVerification)})(t,t.password),t.password=null,t.aesCtrGladman=new I(new C(t.keys.key),Array.from(M)),t.hmac=new H(t.keys.authentication));const n=new Uint8Array(r.length+e.length-e.length%E);return n.set(r,0),j(t,e,n,r.length,0)}flush(){const e=this;let t=new Uint8Array(0);if(e.pendingInput.length){const r=e.aesCtrGladman.update(W.toBits(e.pendingInput));e.hmac.update(r),t=W.fromBits(r)}const r=V(W.fromBits(e.hmac.digest()),0,B);return{data:N(t,r),signature:r}}}function j(e,t,r,n,i,a){const s=t.length-i;let o;for(e.pendingInput.length&&(t=N(e.pendingInput,t),r=((e,t)=>{if(t&&t>e.length){const r=e;(e=new Uint8Array(t)).set(r,0)}return e})(r,s-s%E)),o=0;s-E>=o;o+=E){const i=W.toBits(V(t,o,o+E));a&&e.hmac.update(i);const s=e.aesCtrGladman.update(i);a||e.hmac.update(s),r.set(W.fromBits(s),o+n)}return e.pendingInput=V(t,o),r}async function L(e,t,r){const n=x(t),i=await crypto.subtle.importKey("raw",n,z,!1,T),a=await crypto.subtle.deriveBits(Object.assign({salt:r},S),i,8*(2*F[e.strength]+2)),s=new Uint8Array(a);e.keys={key:W.toBits(V(s,0,F[e.strength])),authentication:W.toBits(V(s,F[e.strength],2*F[e.strength])),passwordVerification:V(s,2*F[e.strength])}}function N(e,t){let r=e;return e.length+t.length&&(r=new Uint8Array(e.length+t.length),r.set(e,0),r.set(t,e.length)),r}function V(e,t,r){return e.subarray(t,r)}class q{constructor(e,t){Object.assign(this,{password:e,passwordVerification:t}),X(this,e)}append(e){const t=this;if(t.password){const r=Z(t,e.subarray(0,12));if(t.password=null,r[11]!=t.passwordVerification)throw Error(v);e=e.subarray(12)}return Z(t,e)}flush(){return{valid:!0,data:new Uint8Array(0)}}}class K{constructor(e,t){Object.assign(this,{password:e,passwordVerification:t}),X(this,e)}append(e){const t=this;let r,n;if(t.password){t.password=null;const i=crypto.getRandomValues(new Uint8Array(12));i[11]=t.passwordVerification,r=new Uint8Array(e.length+i.length),r.set(G(t,i),0),n=12}else r=new Uint8Array(e.length),n=0;return r.set(G(t,e),n),r}flush(){return{data:new Uint8Array(0)}}}function Z(e,t){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=J(e)^t[n],Y(e,r[n]);return r}function G(e,t){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=J(e)^t[n],Y(e,t[n]);return r}function X(e,t){e.keys=[305419896,591751049,878082192],e.crcKey0=new b(e.keys[0]),e.crcKey2=new b(e.keys[2]);for(let r=0;r<t.length;r++)Y(e,t.charCodeAt(r))}function Y(e,t){e.crcKey0.append([t]),e.keys[0]=~e.crcKey0.get(),e.keys[1]=$(e.keys[1]+Q(e.keys[0])),e.keys[1]=$(Math.imul(e.keys[1],134775813)+1),e.crcKey2.append([e.keys[1]>>>24]),e.keys[2]=~e.crcKey2.get()}function J(e){const t=2|e.keys[2];return Q(Math.imul(t,1^t)>>>8)}function Q(e){return 255&e}function $(e){return 4294967295&e}const ee="deflate",te="Invalid signature";class re{constructor(e,{signature:t,password:r,signed:n,compressed:i,zipCrypto:a,passwordVerification:s,encryptionStrength:o},{chunkSize:l}){const c=!!r;Object.assign(this,{signature:t,encrypted:c,signed:n,compressed:i,inflate:i&&new e({chunkSize:l}),crc32:n&&new b,zipCrypto:a,decrypt:c&&a?new q(r,s):new O(r,n,o)})}async append(e){const t=this;return t.encrypted&&e.length&&(e=await t.decrypt.append(e)),t.compressed&&e.length&&(e=await t.inflate.append(e)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),e}async flush(){const e=this;let t,r=new Uint8Array(0);if(e.encrypted){const t=e.decrypt.flush();if(!t.valid)throw Error(te);r=t.data}if((!e.encrypted||e.zipCrypto)&&e.signed){const r=new DataView(new Uint8Array(4).buffer);if(t=e.crc32.get(),r.setUint32(0,t),e.signature!=r.getUint32(0,!1))throw Error(te)}return e.compressed&&(r=await e.inflate.append(r)||new Uint8Array(0),await e.inflate.flush()),{data:r,signature:t}}}class ne{constructor(e,{encrypted:t,signed:r,compressed:n,level:i,zipCrypto:a,password:s,passwordVerification:o,encryptionStrength:l},{chunkSize:c}){Object.assign(this,{encrypted:t,signed:r,compressed:n,deflate:n&&new e({level:i||5,chunkSize:c}),crc32:r&&new b,zipCrypto:a,encrypt:t&&a?new K(s,o):new P(s,l)})}async append(e){const t=this;let r=e;return t.compressed&&e.length&&(r=await t.deflate.append(e)),t.encrypted&&r.length&&(r=await t.encrypt.append(r)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),r}async flush(){const e=this;let t,r=new Uint8Array(0);if(e.compressed&&(r=await e.deflate.flush()||new Uint8Array(0)),e.encrypted){r=await e.encrypt.append(r);const n=e.encrypt.flush();t=n.signature;const i=new Uint8Array(r.length+n.data.length);i.set(r,0),i.set(n.data,r.length),r=i}return e.encrypted&&!e.zipCrypto||!e.signed||(t=e.crc32.get()),{data:r,signature:t}}}const ie="init",ae="append",se="flush";let oe=!0;var le=(e,t,r,n,i,a,s)=>(Object.assign(e,{busy:!0,codecConstructor:t,options:Object.assign({},r),scripts:s,terminate(){e.worker&&!e.busy&&(e.worker.terminate(),e.interface=null)},onTaskFinished(){e.busy=!1,i(e)}}),a?((e,t)=>{let r;const n={type:"module"};if(!e.interface){if(oe)try{e.worker=i({},t.baseURL)}catch(r){oe=!1,e.worker=i(n,t.baseURL)}else e.worker=i(n,t.baseURL);e.worker.addEventListener("message",(t=>{const n=t.data;if(r){const t=n.error,i=n.type;if(t){const n=Error(t.message);n.stack=t.stack,r.reject(n),r=null,e.onTaskFinished()}else if(i==ie||i==se||i==ae){const t=n.data;i==se?(r.resolve({data:new Uint8Array(t),signature:n.signature}),r=null,e.onTaskFinished()):r.resolve(t&&new Uint8Array(t))}}}),!1),e.interface={append:e=>a({type:ae,data:e}),flush:()=>a({type:se}),abort(){e.onTaskFinished()}}}return e.interface;function i(t,r){let n;try{n=new URL(e.scripts[0],r)}catch(t){n=e.scripts[0]}return new Worker(n,t)}async function a(n){if(!r){const r=e.options,n=e.scripts.slice(1);await s({scripts:n,type:ie,options:r,config:{chunkSize:t.chunkSize}})}return s(n)}function s(t){const n=e.worker,i=new Promise(((e,t)=>r={resolve:e,reject:t}));try{if(t.data)try{t.data=t.data.buffer,n.postMessage(t,[t.data])}catch(e){n.postMessage(t)}else n.postMessage(t)}catch(t){r.reject(t),r=null,e.onTaskFinished()}return i}})(e,n):((e,t)=>{const r=((e,t,r)=>t.codecType.startsWith(ee)?new ne(e,t,r):t.codecType.startsWith("inflate")?new re(e,t,r):void 0)(e.codecConstructor,e.options,t);return{async append(t){try{return await r.append(t)}catch(t){throw e.onTaskFinished(),t}},async flush(){try{return await r.flush()}finally{e.onTaskFinished()}},abort(){e.onTaskFinished()}}})(e,n));let ce=[],de=[];function ue(e){e.terminateTimeout&&(clearTimeout(e.terminateTimeout),e.terminateTimeout=null)}const he="HTTP error ",fe="HTTP Range not supported",pe="text/plain",ge="GET";class we{constructor(){this.size=0}init(){this.initialized=!0}}class ye extends we{}class _e extends we{writeUint8Array(e){this.size+=e.length}}class me extends ye{constructor(e){super(),this.blob=e,this.size=e.size}async readUint8Array(e,t){if(this.blob.arrayBuffer)return new Uint8Array(await this.blob.slice(e,e+t).arrayBuffer());{const r=new FileReader;return new Promise(((n,i)=>{r.onload=e=>n(new Uint8Array(e.target.result)),r.onerror=()=>i(r.error),r.readAsArrayBuffer(this.blob.slice(e,e+t))}))}}}class be extends _e{constructor(e){super(),this.contentType=e,this.arrayBuffers=[]}async writeUint8Array(e){super.writeUint8Array(e),this.arrayBuffers.push(e.buffer)}getData(){return this.blob||(this.blob=new Blob(this.arrayBuffers,{type:this.contentType})),this.blob}}class xe extends ye{constructor(e,t){super(),this.url=e,this.preventHeadRequest=t.preventHeadRequest,this.useRangeHeader=t.useRangeHeader,this.forceRangeRequests=t.forceRangeRequests,this.options=Object.assign({},t),delete this.options.preventHeadRequest,delete this.options.useRangeHeader,delete this.options.forceRangeRequests,delete this.options.useXHR}async init(){super.init(),await ke(this,De,Re)}async readUint8Array(e,t){return Ue(this,e,t,De,Re)}}class Ae extends ye{constructor(e,t){super(),this.url=e,this.preventHeadRequest=t.preventHeadRequest,this.useRangeHeader=t.useRangeHeader,this.forceRangeRequests=t.forceRangeRequests,this.options=t}async init(){super.init(),await ke(this,Fe,ze)}async readUint8Array(e,t){return Ue(this,e,t,Fe,ze)}}async function ke(e,t,r){if((e=>{if("undefined"!=typeof document){const t=document.createElement("a");return t.href=e,"http:"==t.protocol||"https:"==t.protocol}return/^https?:\/\//i.test(e)})(e.url)&&(e.useRangeHeader||e.forceRangeRequests)){const n=await t(ge,e,ve(e));if(!e.forceRangeRequests&&"bytes"!=n.headers.get("Accept-Ranges"))throw Error(fe);{let i;const a=n.headers.get("Content-Range");if(a){const e=a.trim().split(/\s*\/\s*/);if(e.length){const t=e[1];t&&"*"!=t&&(i=+t)}}void 0===i?await Te(e,t,r):e.size=i}}else await Te(e,t,r)}async function Ue(e,t,r,n,i){if(e.useRangeHeader||e.forceRangeRequests){const i=await n(ge,e,ve(e,t,r));if(206!=i.status)throw Error(fe);return new Uint8Array(await i.arrayBuffer())}return e.data||await i(e,e.options),new Uint8Array(e.data.subarray(t,t+r))}function ve(e,t=0,r=1){return Object.assign({},Ee(e),{Range:"bytes="+t+"-"+(t+r-1)})}function Ee(e){let t=e.options.headers;if(t)return Symbol.iterator in t?Object.fromEntries(t):t}async function Re(e){await Se(e,De)}async function ze(e){await Se(e,Fe)}async function Se(e,t){const r=await t(ge,e,Ee(e));e.data=new Uint8Array(await r.arrayBuffer()),e.size||(e.size=e.data.length)}async function Te(e,t,r){if(e.preventHeadRequest)await r(e,e.options);else{const n=(await t("HEAD",e,Ee(e))).headers.get("Content-Length");n?e.size=+n:await r(e,e.options)}}async function De(e,{options:t,url:r},n){const i=await fetch(r,Object.assign({},t,{method:e,headers:n}));if(400>i.status)return i;throw Error(he+(i.statusText||i.status))}function Fe(e,{url:t},r){return new Promise(((n,i)=>{const a=new XMLHttpRequest;if(a.addEventListener("load",(()=>{if(400>a.status){const e=[];a.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((t=>{const r=t.trim().split(/\s*:\s*/);r[0]=r[0].trim().replace(/^[a-z]|-[a-z]/g,(e=>e.toUpperCase())),e.push(r)})),n({status:a.status,arrayBuffer:()=>a.response,headers:new Map(e)})}else i(Error(he+(a.statusText||a.status)))}),!1),a.addEventListener("error",(e=>i(e.detail.error)),!1),a.open(e,t),r)for(const e of Object.entries(r))a.setRequestHeader(e[0],e[1]);a.responseType="arraybuffer",a.send()}))}class Be extends ye{constructor(e,t={}){super(),this.url=e,t.useXHR?this.reader=new Ae(e,t):this.reader=new xe(e,t)}set size(e){}get size(){return this.reader.size}async init(){super.init(),await this.reader.init()}async readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}const Me=4294967295,We=65535,Ce=new Date(2107,11,31),Ie=new Date(1980,0,1);function He(e,t){if(e&&e.aborted)throw t.abort(),Error("Abort error")}async function Oe(e,t){return t.length&&await e.writeUint8Array(t),t.length}const Pe=["filename","rawFilename","directory","encrypted","compressedSize","uncompressedSize","lastModDate","rawLastModDate","comment","rawComment","signature","extraField","rawExtraField","bitFlag","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","filenameUTF8","commentUTF8","offset","zip64","compressionMethod","extraFieldNTFS","lastAccessDate","creationDate","extraFieldExtendedTimestamp","version","versionMadeBy","msDosCompatible","internalFileAttribute","externalFileAttribute"];class je{constructor(e){Pe.forEach((t=>this[t]=e[t]))}}const Le="File already exists",Ne="Zip file comment exceeds 64KB",Ve="File entry comment exceeds 64KB",qe="File entry name exceeds 64KB",Ke="Version exceeds 65535",Ze="The strength must equal 1, 2, or 3",Ge="Extra field type exceeds 65535",Xe="Extra field data exceeds 64KB",Ye="Zip64 is not supported",Je=new Uint8Array([7,0,2,0,65,69,3,0,0]);let Qe=0;function $e(e,t,r){if(e.arrayBuffer)return t||r?e.slice(t,r).arrayBuffer():e.arrayBuffer();{const n=new FileReader;return new Promise(((i,a)=>{n.onload=e=>i(e.target.result),n.onerror=()=>a(n.error),n.readAsArrayBuffer(t||r?e.slice(t,r):e)}))}}function et(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function tt(e,t,r){return void 0===t[r]?e.options[r]:t[r]}function rt(e,t,r){e.setUint8(t,r)}function nt(e,t,r){e.setUint16(t,r,!0)}function it(e,t,r){e.setUint32(t,r,!0)}function at(e,t,r){e.setBigUint64(t,r,!0)}function st(e,t,r){e.set(t,r)}function ot(e){return new DataView(e.buffer)}_({Deflate:function(e){const t=new g,r=(n=e&&e.chunkSize?e.chunkSize:65536)+5*(Math.floor(n/16383)+1);var n;const i=new Uint8Array(r);let a=e?e.level:-1;void 0===a&&(a=-1),t.deflateInit(a),t.next_out=i,this.append=(e,n)=>{let a,s,o=0,l=0,c=0;const d=[];if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=r,a=t.deflate(0),0!=a)throw Error("deflating: "+t.msg);t.next_out_index&&(t.next_out_index==r?d.push(new Uint8Array(i)):d.push(i.slice(0,t.next_out_index))),c+=t.next_out_index,n&&t.next_in_index>0&&t.next_in_index!=o&&(n(t.next_in_index),o=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return d.length>1?(s=new Uint8Array(c),d.forEach((e=>{s.set(e,l),l+=e.length}))):s=d[0]||new Uint8Array(0),s}},this.flush=()=>{let e,n,a=0,s=0;const o=[];do{if(t.next_out_index=0,t.avail_out=r,e=t.deflate(4),1!=e&&0!=e)throw Error("deflating: "+t.msg);r-t.avail_out>0&&o.push(i.slice(0,t.next_out_index)),s+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);return t.deflateEnd(),n=new Uint8Array(s),o.forEach((e=>{n.set(e,a),a+=e.length})),n}}}),e.BlobReader=me,e.BlobWriter=be,e.Data64URIReader=class extends ye{constructor(e){super(),this.dataURI=e;let t=e.length;for(;"="==e.charAt(t-1);)t--;this.dataStart=e.indexOf(",")+1,this.size=Math.floor(.75*(t-this.dataStart))}async readUint8Array(e,t){const r=new Uint8Array(t),n=4*Math.floor(e/3),i=atob(this.dataURI.substring(n+this.dataStart,4*Math.ceil((e+t)/3)+this.dataStart)),a=e-3*Math.floor(n/4);for(let e=a;a+t>e;e++)r[e-a]=i.charCodeAt(e);return r}},e.Data64URIWriter=class extends _e{constructor(e){super(),this.data="data:"+(e||"")+";base64,",this.pending=[]}async writeUint8Array(e){super.writeUint8Array(e);let t=0,r=this.pending;const n=this.pending.length;for(this.pending="",t=0;t<3*Math.floor((n+e.length)/3)-n;t++)r+=String.fromCharCode(e[t]);for(;t<e.length;t++)this.pending+=String.fromCharCode(e[t]);r.length>2?this.data+=btoa(r):this.pending=r}getData(){return this.data+btoa(this.pending)}},e.ERR_DUPLICATED_NAME=Le,e.ERR_HTTP_RANGE=fe,e.ERR_INVALID_COMMENT=Ne,e.ERR_INVALID_ENCRYPTION_STRENGTH=Ze,e.ERR_INVALID_ENTRY_COMMENT=Ve,e.ERR_INVALID_ENTRY_NAME=qe,e.ERR_INVALID_EXTRAFIELD_DATA=Xe,e.ERR_INVALID_EXTRAFIELD_TYPE=Ge,e.ERR_INVALID_VERSION=Ke,e.ERR_UNSUPPORTED_FORMAT=Ye,e.HttpRangeReader=class extends Be{constructor(e,t={}){t.useRangeHeader=!0,super(e,t)}},e.HttpReader=Be,e.Reader=ye,e.TextReader=class extends ye{constructor(e){super(),this.blobReader=new me(new Blob([e],{type:pe}))}async init(){super.init(),this.blobReader.init(),this.size=this.blobReader.size}async readUint8Array(e,t){return this.blobReader.readUint8Array(e,t)}},e.TextWriter=class extends _e{constructor(e){super(),this.encoding=e,this.blob=new Blob([],{type:pe})}async writeUint8Array(e){super.writeUint8Array(e),this.blob=new Blob([this.blob,e.buffer],{type:pe})}getData(){if(this.blob.text)return this.blob.text();{const e=new FileReader;return new Promise(((t,r)=>{e.onload=e=>t(e.target.result),e.onerror=()=>r(e.error),e.readAsText(this.blob,this.encoding)}))}}},e.Uint8ArrayReader=class extends ye{constructor(e){super(),this.array=e,this.size=e.length}async readUint8Array(e,t){return this.array.slice(e,e+t)}},e.Uint8ArrayWriter=class extends _e{constructor(){super(),this.array=new Uint8Array(0)}async writeUint8Array(e){super.writeUint8Array(e);const t=this.array;this.array=new Uint8Array(t.length+e.length),this.array.set(t),this.array.set(e,t.length)}getData(){return this.array}},e.Writer=_e,e.ZipWriter=class{constructor(e,t={}){Object.assign(this,{writer:e,options:t,config:y,files:new Map,offset:e.size,pendingCompressedSize:0,pendingEntries:[]})}async add(e="",t,r={}){const n=this;if(Qe>=n.config.maxWorkers)return new Promise(((i,a)=>n.pendingEntries.push({name:e,reader:t,options:r,resolve:i,reject:a})));Qe++;try{return await(async(e,t,r,n)=>{if(t=t.trim(),n.directory&&!t.endsWith("/")?t+="/":n.directory=t.endsWith("/"),e.files.has(t))throw Error(Le);const i=x(t);if(i.length>We)throw Error(qe);const a=n.comment||"",s=x(a);if(s.length>We)throw Error(Ve);const o=e.options.version||n.version||0;if(o>We)throw Error(Ke);const l=e.options.versionMadeBy||n.versionMadeBy||20;if(l>We)throw Error(Ke);const c=tt(e,n,"lastModDate")||new Date,d=tt(e,n,"lastAccessDate"),u=tt(e,n,"creationDate"),h=tt(e,n,"password"),f=tt(e,n,"encryptionStrength")||3,p=tt(e,n,"zipCrypto");if(void 0!==h&&void 0!==f&&(1>f||f>3))throw Error(Ze);let g=new Uint8Array(0);const w=n.extraField;if(w){let e=0,t=0;w.forEach((t=>e+=4+t.length)),g=new Uint8Array(e),w.forEach(((e,r)=>{if(r>We)throw Error(Ge);if(e.length>We)throw Error(Xe);st(g,new Uint16Array([r]),t),st(g,new Uint16Array([e.length]),t+2),st(g,e,t+4),t+=4+e.length}))}let y=tt(e,n,"extendedTimestamp");void 0===y&&(y=!0);let _=0,m=tt(e,n,"keepOrder");void 0===m&&(m=!0);let b=0,A=tt(e,n,"msDosCompatible");void 0===A&&(A=!0);const k=tt(e,n,"internalFileAttribute")||0,U=tt(e,n,"externalFileAttribute")||0;r&&(r.initialized||await r.init(),b=r.size,_=(e=>e+5*(Math.floor(e/16383)+1))(b));let v=n.zip64||e.options.zip64||!1;if(e.offset+e.pendingCompressedSize>=Me||b>=Me||_>=Me){if(!1===n.zip64||!1===e.options.zip64||!m)throw Error(Ye);v=!0}e.pendingCompressedSize+=_,await Promise.resolve();const E=tt(e,n,"level"),R=tt(e,n,"useWebWorkers"),z=tt(e,n,"bufferedWrite");let S=tt(e,n,"dataDescriptor"),T=tt(e,n,"dataDescriptorSignature");const D=tt(e,n,"signal");void 0===S&&(S=!0),S&&void 0===T&&(T=!0);const F=await(async(e,t,r,n)=>{const i=e.files,a=e.writer,s=Array.from(i.values()).pop();let o,l,c,d={};i.set(t,d);try{let u,h,f;if(n.keepOrder&&(u=s&&s.lock),d.lock=f=new Promise((e=>c=e)),n.bufferedWrite||e.lockWrite||!n.dataDescriptor?(h=new be,h.init(),o=!0):(e.lockWrite=new Promise((e=>l=e)),a.initialized||await a.init(),h=a),d=await(async(e,t,r,n)=>{const{rawFilename:i,lastAccessDate:a,creationDate:s,password:o,level:l,zip64:c,zipCrypto:d,dataDescriptor:u,dataDescriptorSignature:h,directory:f,version:p,versionMadeBy:g,rawComment:w,rawExtraField:y,useWebWorkers:_,onprogress:m,signal:b,encryptionStrength:x,extendedTimestamp:A,msDosCompatible:k,internalFileAttribute:U,externalFileAttribute:v}=n,E=!(!o||!o.length),R=0!==l&&!f;let z,S,T;if(E&&!d){z=new Uint8Array(Je.length+2);const e=ot(z);nt(e,0,39169),st(z,Je,2),rt(e,8,x)}else z=new Uint8Array(0);if(A){T=new Uint8Array(9+(a?4:0)+(s?4:0));const e=ot(T);nt(e,0,21589),nt(e,2,T.length-4),rt(e,4,1+(a?2:0)+(s?4:0)),it(e,5,Math.floor(n.lastModDate.getTime()/1e3)),a&&it(e,9,Math.floor(a.getTime()/1e3)),s&&it(e,13,Math.floor(s.getTime()/1e3));try{S=new Uint8Array(36);const e=ot(S),t=et(n.lastModDate);nt(e,0,10),nt(e,2,32),nt(e,8,1),nt(e,10,24),at(e,12,t),at(e,20,et(a)||t),at(e,28,et(s)||t)}catch(e){S=new Uint8Array(0)}}else S=T=new Uint8Array(0);const D={version:p||20,versionMadeBy:g,zip64:c,directory:!!f,filenameUTF8:!0,rawFilename:i,commentUTF8:!0,rawComment:w,rawExtraFieldZip64:c?new Uint8Array(28):new Uint8Array(0),rawExtraFieldExtendedTimestamp:T,rawExtraFieldNTFS:S,rawExtraFieldAES:z,rawExtraField:y,extendedTimestamp:A,msDosCompatible:k,internalFileAttribute:U,externalFileAttribute:v};let F=D.uncompressedSize=0,B=2048;u&&(B|=8);let M=0;R&&(M=8),c&&(D.version=D.version>45?D.version:45),E&&(B|=1,d||(D.version=D.version>51?D.version:51,M=99,R&&(D.rawExtraFieldAES[9]=8))),D.compressionMethod=M;const W=D.headerArray=new Uint8Array(26),C=ot(W);nt(C,0,D.version),nt(C,2,B),nt(C,4,M);const I=new Uint32Array(1),H=ot(I);let O;O=n.lastModDate<Ie?Ie:n.lastModDate>Ce?Ce:n.lastModDate,nt(H,0,(O.getHours()<<6|O.getMinutes())<<5|O.getSeconds()/2),nt(H,2,(O.getFullYear()-1980<<4|O.getMonth()+1)<<5|O.getDate());const P=I[0];it(C,6,P),nt(C,22,i.length);const j=z.length+T.length+S.length+D.rawExtraField.length;nt(C,24,j);const L=new Uint8Array(30+i.length+j);let N;it(ot(L),0,67324752),st(L,W,4),st(L,i,30),st(L,z,30+i.length),st(L,T,30+i.length+z.length),st(L,S,30+i.length+z.length+T.length),st(L,D.rawExtraField,30+i.length+z.length+T.length+S.length);let V=0;if(e){F=D.uncompressedSize=e.size;const n=await((e,t,r)=>{const n=!(!t.compressed&&!t.signed&&!t.encrypted)&&(t.useWebWorkers||void 0===t.useWebWorkers&&r.useWebWorkers),i=n&&r.workerScripts?r.workerScripts[t.codecType]:[];if(ce.length<r.maxWorkers){const s={};return ce.push(s),le(s,e,t,r,a,n,i)}{const s=ce.find((e=>!e.busy));return s?(ue(s),le(s,e,t,r,a,n,i)):new Promise((r=>de.push({resolve:r,codecConstructor:e,options:t,webWorker:n,scripts:i})))}function a(e){if(de.length){const[{resolve:t,codecConstructor:n,options:i,webWorker:s,scripts:o}]=de.splice(0,1);t(le(e,n,i,r,a,s,o))}else e.worker?(ue(e),Number.isFinite(r.terminateWorkerTimeout)&&r.terminateWorkerTimeout>=0&&(e.terminateTimeout=setTimeout((()=>{ce=ce.filter((t=>t!=e)),e.terminate()}),r.terminateWorkerTimeout))):ce=ce.filter((t=>t!=e))}})(r.Deflate,{codecType:ee,level:l,password:o,encryptionStrength:x,zipCrypto:E&&d,passwordVerification:E&&d&&P>>8&255,signed:!0,compressed:R,encrypted:E,useWebWorkers:_},r);await t.writeUint8Array(L),D.dataWritten=!0,N=await(async(e,t,r,n,i,a,s)=>{const o=Math.max(a.chunkSize,64);return async function n(a=0,l=0){const c=s.signal;if(i>a){He(c,e);const d=await t.readUint8Array(a+0,Math.min(o,i-a)),u=d.length;He(c,e);const h=await e.append(d);if(He(c,e),l+=await Oe(r,h),s.onprogress)try{s.onprogress(a+u,i)}catch(e){}return n(a+o,l)}{const t=await e.flush();return l+=await Oe(r,t.data),{signature:t.signature,length:l}}}()})(n,e,t,0,F,r,{onprogress:m,signal:b}),V=N.length}else await t.writeUint8Array(L),D.dataWritten=!0;let q,K=new Uint8Array(0),Z=0;if(u&&(K=new Uint8Array(c?h?24:20:h?16:12),q=ot(K),h&&(Z=4,it(q,0,134695760))),e){const e=N.signature;if(E&&!d||void 0===e||(it(C,10,e),D.signature=e,u&&it(q,Z,e)),c){const e=ot(D.rawExtraFieldZip64);nt(e,0,1),nt(e,2,24),it(C,14,Me),at(e,12,BigInt(V)),it(C,18,Me),at(e,4,BigInt(F)),u&&(at(q,Z+4,BigInt(V)),at(q,Z+12,BigInt(F)))}else it(C,14,V),it(C,18,F),u&&(it(q,Z+4,V),it(q,Z+8,F))}u&&await t.writeUint8Array(K);const G=L.length+V+K.length;return Object.assign(D,{compressedSize:V,lastModDate:O,rawLastModDate:P,creationDate:s,lastAccessDate:a,encrypted:E,length:G}),D})(r,h,e.config,n),d.lock=f,i.set(t,d),d.filename=t,o){let t=0;const r=h.getData();let s;await Promise.all([e.lockWrite,u]);do{s=Array.from(i.values()).find((e=>e.writingBufferedData)),s&&await s.lock}while(s&&s.lock);if(d.writingBufferedData=!0,!n.dataDescriptor){const e=26,i=await $e(r,0,e),s=new DataView(i);d.encrypted&&!n.zipCrypto||it(s,14,d.signature),d.zip64?(it(s,18,Me),it(s,22,Me)):(it(s,18,d.compressedSize),it(s,22,d.uncompressedSize)),await a.writeUint8Array(new Uint8Array(i)),t=e}await(async(e,t,r=0)=>{const n=536870912;await async function i(){if(r<t.size){const a=await $e(t,r,r+n);await e.writeUint8Array(new Uint8Array(a)),r+=n,await i()}}()})(a,r,t),delete d.writingBufferedData}if(d.offset=e.offset,d.zip64)at(ot(d.rawExtraFieldZip64),20,BigInt(d.offset));else if(d.offset>=Me)throw Error(Ye);return e.offset+=d.length,d}catch(r){throw(o&&d.writingBufferedData||!o&&d.dataWritten)&&(r.corruptedEntry=e.hasCorruptedEntries=!0,d.uncompressedSize&&(e.offset+=d.uncompressedSize)),i.delete(t),r}finally{c(),l&&l()}})(e,t,r,Object.assign({},n,{rawFilename:i,rawComment:s,version:o,versionMadeBy:l,lastModDate:c,lastAccessDate:d,creationDate:u,rawExtraField:g,zip64:v,password:h,level:E,useWebWorkers:R,encryptionStrength:f,extendedTimestamp:y,zipCrypto:p,bufferedWrite:z,keepOrder:m,dataDescriptor:S,dataDescriptorSignature:T,signal:D,msDosCompatible:A,internalFileAttribute:k,externalFileAttribute:U}));return _&&(e.pendingCompressedSize-=_),Object.assign(F,{name:t,comment:a,extraField:w}),new je(F)})(n,e,t,r)}finally{Qe--;const e=n.pendingEntries.shift();e&&n.add(e.name,e.reader,e.options).then(e.resolve).catch(e.reject)}}async close(e=new Uint8Array(0),t={}){return await(async(e,t,r)=>{const n=e.writer,i=e.files;let a=0,s=0,o=e.offset,l=i.size;for(const[,e]of i)s+=46+e.rawFilename.length+e.rawComment.length+e.rawExtraFieldZip64.length+e.rawExtraFieldAES.length+e.rawExtraFieldExtendedTimestamp.length+e.rawExtraFieldNTFS.length+e.rawExtraField.length;let c=r.zip64||e.options.zip64||!1;if(o>=Me||s>=Me||l>=We){if(!1===r.zip64||!1===e.options.zip64)throw Error(Ye);c=!0}const d=new Uint8Array(s+(c?98:22)),u=ot(d);if(t&&t.length){if(t.length>We)throw Error(Ne);nt(u,a+20,t.length)}for(const[e,t]of Array.from(i.values()).entries()){const{rawFilename:n,rawExtraFieldZip64:s,rawExtraFieldAES:o,rawExtraField:l,rawComment:c,versionMadeBy:h,headerArray:f,directory:p,zip64:g,msDosCompatible:w,internalFileAttribute:y,externalFileAttribute:_}=t;let m,b;if(t.extendedTimestamp){b=t.rawExtraFieldNTFS,m=new Uint8Array(9);const e=ot(m);nt(e,0,21589),nt(e,2,m.length-4),rt(e,4,1),it(e,5,Math.floor(t.lastModDate.getTime()/1e3))}else b=m=new Uint8Array(0);const x=s.length+o.length+m.length+b.length+l.length;if(it(u,a,33639248),nt(u,a+4,h),st(d,f,a+6),nt(u,a+30,x),nt(u,a+32,c.length),it(u,a+34,y),_?it(u,a+38,_):p&&w&&rt(u,a+38,16),it(u,a+42,g?Me:t.offset),st(d,n,a+46),st(d,s,a+46+n.length),st(d,o,a+46+n.length+s.length),st(d,m,a+46+n.length+s.length+o.length),st(d,b,a+46+n.length+s.length+o.length+m.length),st(d,l,a+46+n.length+s.length+o.length+m.length+b.length),st(d,c,a+46+n.length+x),a+=46+n.length+x+c.length,r.onprogress)try{r.onprogress(e+1,i.size,new je(t))}catch(e){}}c&&(it(u,a,101075792),at(u,a+4,BigInt(44)),nt(u,a+12,45),nt(u,a+14,45),at(u,a+24,BigInt(l)),at(u,a+32,BigInt(l)),at(u,a+40,BigInt(s)),at(u,a+48,BigInt(o)),it(u,a+56,117853008),at(u,a+64,BigInt(o)+BigInt(s)),it(u,a+72,1),l=We,o=Me,s=Me,a+=76),it(u,a,101010256),nt(u,a+8,l),nt(u,a+10,l),it(u,a+12,s),it(u,a+16,o),await n.writeUint8Array(d),t&&t.length&&await n.writeUint8Array(t)})(this,e,t),this.writer.getData()}},e.configure=_,e.getMimeType=()=>"application/octet-stream",e.terminateWorkers=()=>{ce.forEach((e=>{ue(e),e.terminate()}))},Object.defineProperty(e,"__esModule",{value:!0})}));
